---
import IFrame from "@components/IFrame.astro";
import Television from "@components/Television.astro";
import Layout from "@layouts/Layout.astro";

const { url } = Astro.params;
if (!url) return Astro.redirect("/test");

const src = url.includes("https://") ? url : `https://${url}`;
---

<Layout title="Site Preview">
  <Television
    activeProgram={{
      program: {
        title: "Site Preview",
      },
    }}
    channelId="PRE"
    channelName="Preview"
  >
    <IFrame src={src} />
  </Television>
</Layout>
